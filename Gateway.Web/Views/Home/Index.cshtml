@using Gateway.Web.Models.Controller
@{
    ViewBag.Title = "Dashboard";
}
@model Gateway.Web.Models.Home.IndexModel
@section scripts
{
    <script>
        //define your time in second
        var c = 600;
        var t;
        timedCount();

        function timedCount() {

            var value = c % 600;
            
            $('.progressBar').val(value);
            
            if (c <= 0) {
                // stop
            } else {
                c = c - 1;
                t = setTimeout(function () {
                    timedCount();
                },
                    100);
            }
        }
    </script>
}
<div class="row">

    <div class="container">
        <div class="row">
            <div class="col-sm-4">
                <h3 class="text-lowercase">Services</h3>
                @{ Html.RenderPartial("_StateItems", @Model.Services); }
                <br />
                <h3 class="text-lowercase">Databases</h3>
                @{ Html.RenderPartial("_StateItems", @Model.Databases); }
            </div>
            <div class="col-sm-4">
                <a href="@Url.Action("History", "Controllers")" class="hoverlink">
                    <h3 class="text-lowercase">
                        Controllers
                    </h3>
                </a>
                @{ Html.RenderPartial("_ControllerStateItems", @Model.Controllers); }
            </div>
            <div class="col-sm-4">
                <h3 class="text-lowercase">Batches</h3>
                @{ Html.RenderPartial("_BatchStates", @Model.Batches); }
            </div>
        </div>
                
        <progress class="progressBar" max="600" value="600"></progress>

    </div>
</div>